/**
 * Test: Maximiles Kart Başvuru Süreci
 * Generated by Nexus QA - CrewAI Test Architect
 * Date: 2025-12-23 08:58:32
 */

import { test, expect } from '@playwright/test';

test('Maximiles Kart Başvuru Süreci', async ({ page }) => {

  // Step 1: Navigate to homepage
  await page.goto('https://www.isbank.com.tr/online-bireysel-internet-subesi');
  await page.waitForLoadState('domcontentloaded');

  // Step 2: Click on kartlar menüsü
  // Click visible text element
  {
    const allMatches = await page.getByText('Kartlar', { exact: false }).all();
    let visibleElement = null;
    for (const element of allMatches) {
      if (await element.isVisible()) {
        visibleElement = element;
        break;
      }
    }
    if (!visibleElement) {
      throw new Error('Text "Kartlar" found but all elements are hidden');
    }
    await visibleElement.click();
  };
  await page.waitForLoadState('domcontentloaded');

  // Step 3: Click on Hemen Başvur button
  // Click visible text element
  {
    const allMatches = await page.getByText('Hemen Başvur', { exact: false }).all();
    let visibleElement = null;
    for (const element of allMatches) {
      if (await element.isVisible()) {
        visibleElement = element;
        break;
      }
    }
    if (!visibleElement) {
      throw new Error('Text "Hemen Başvur" found but all elements are hidden');
    }
    await visibleElement.click();
  };
  await page.waitForLoadState('domcontentloaded');

  // Step 4: Click on Maximiles Kart seçeneği
  // Click visible text element
  {
    const allMatches = await page.getByText('MaxiPara Kartlar', { exact: false }).all();
    let visibleElement = null;
    for (const element of allMatches) {
      if (await element.isVisible()) {
        visibleElement = element;
        break;
      }
    }
    if (!visibleElement) {
      throw new Error('Text "MaxiPara Kartlar" found but all elements are hidden');
    }
    await visibleElement.click();
  };
  await page.waitForLoadState('domcontentloaded');

  // Verify: Maximiles Kart başvuru sayfası görüntülenir
  // TODO: Add assertion

});

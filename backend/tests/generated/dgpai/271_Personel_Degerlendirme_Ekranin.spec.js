/**
 * Test: Personel DeÄŸerlendirme EkranÄ±na Git ve KÄ±yaslama TabÄ±na Git
 * Generated by Nexus QA - CrewAI Test Architect
 * Date: 2025-12-24 14:08:10
 */

import { test, expect } from '@playwright/test';

test('Personel DeÄŸerlendirme EkranÄ±na Git ve KÄ±yaslama TabÄ±na Git', async ({ page }) => {
    // ðŸ” Otomatik Login (Proje AyarlarÄ±ndan)
    await page.goto('http://10.20.13.140:3000/');
    await page.waitForLoadState('domcontentloaded');

    // KullanÄ±cÄ± adÄ± gir
    const usernameSelector = 'input[type="text"], input[type="email"], input[name="username"], input[name="email"]';
    await page.locator(usernameSelector).first().fill('ahmet.ercikan@dgpaysit.com');

    // Åžifre gir
    const passwordSelector = 'input[type="password"]';
    await page.locator(passwordSelector).first().fill('Ahmet.naz05');

    // Login butonuna tÄ±kla
    const submitSelector = 'button[type="submit"], button:has-text("GiriÅŸ"), button:has-text("Login")';
    await page.locator(submitSelector).first().click();

    // Login sonrasÄ± sayfanÄ±n yÃ¼klenmesini bekle
    await page.waitForLoadState('networkidle', { timeout: 10000 }).catch(() => {});
    await page.waitForTimeout(2000);


  // Step 1: Ana sayfada Personel DeÄŸerlendirme ekranÄ±na git
  // Click visible text element
  {
    const allMatches = await page.getByText('Personel DeÄŸerlendirme', { exact: false }).all();
    let visibleElement = null;
    for (const element of allMatches) {
      if (await element.isVisible()) {
        visibleElement = element;
        break;
      }
    }
    if (!visibleElement) {
      throw new Error('Text "Personel DeÄŸerlendirme" found but all elements are hidden');
    }
    await visibleElement.click();
  };
  await page.waitForLoadState('domcontentloaded');

  // Step 2: Personel Detay butonuna tÄ±kla
  // Click visible text element
  {
    const allMatches = await page.getByText('Personel Detay', { exact: false }).all();
    let visibleElement = null;
    for (const element of allMatches) {
      if (await element.isVisible()) {
        visibleElement = element;
        break;
      }
    }
    if (!visibleElement) {
      throw new Error('Text "Personel Detay" found but all elements are hidden');
    }
    await visibleElement.click();
  };
  await page.waitForLoadState('domcontentloaded');

  // Step 3: AÃ§Ä±lan popupta KÄ±yaslama tabÄ±na git
  // Using Vision Layer coordinates (element is hidden or hard to locate via DOM)
  await page.mouse.click(230, 80);
  await page.waitForLoadState('domcontentloaded');

  // Verify: KÄ±yaslama tabÄ± aÃ§Ä±lÄ±r ve gÃ¶rÃ¼ntÃ¼lenir
  // TODO: Add assertion

});
